---
import BaseLayout from "./BaseLayout.astro";
import Link from "../components/Link.astro";
import type { Project } from "../lib/projects";
import Media from "../components/Media.astro";

interface Props {
  project: Project;
}

const props = Astro.props;
---

<BaseLayout title={props.project.name}>
  <div
    class="flex w-full flex-col-reverse px-4 pb-52 pt-40 md:flex-row md:space-x-6 md:px-8"
  >
    <div class="flex flex-none flex-col space-y-8 md:w-1/3 md:pr-4">
      <div class="flex flex-col space-y-2">
        <h3 class="sr-only font-medium md:not-sr-only">{props.project.name}</h3>
        <p class="text-sm">
          {props.project.description}
        </p>
      </div>
      <div class="flex flex-col space-y-1">
        <h4 class="font-medium">Team</h4>
        {
          props.project.team.map((teamMember) => (
            <p class="text-sm">
              {teamMember.role}: {teamMember.name}
            </p>
          ))
        }
      </div>
      <div class="flex flex-col space-y-1">
        <h4 class="font-medium">Design tools</h4>
        <p class="text-sm">{props.project.tools}</p>
      </div>
      <div class="flex flex-col space-y-1">
        <h4 class="font-medium">Link</h4>
        <Link href={props.project.link} external>{props.project.linkText}</Link>
      </div>
    </div>
    <div
      class="flex w-full flex-col-reverse space-y-2 pb-6 md:flex-col md:pb-0"
    >
      <div class="flex flex-row justify-between pt-2 md:pt-0">
        <h4 class="font-medium">{props.project.scope}</h4>
        <h4 class="font-medium">{props.project.year}</h4>
      </div>
      <Media
        type={props.project.mediaType}
        src={props.project.mediaSrc}
        alt={props.project.mediaAlt}
      />
    </div>
    <h3 class="not-sr-only font-medium md:sr-only">{props.project.name}</h3>
  </div>
  <slot />
</BaseLayout>
