---
import Link from "./Link.astro";
import Clock from "./Clock.astro";
---

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const menuButton = document.getElementById("menu");
    const body = document.body;
    let nav = document.getElementById("mobile-navigation");

    if (menuButton) {
      menuButton.addEventListener("click", () => {
        const navMenu = document.querySelector(".navmenu-toggle");
        if (navMenu) {
          const isMenuOpen = !navMenu.classList.contains("hidden");
          body.classList.toggle("overflow-hidden", isMenuOpen);
          if (nav) {
            nav.classList.toggle("bg-white"), !isMenuOpen;
            nav.classList.toggle("invert"), !isMenuOpen;
            nav.classList.toggle("mix-blend-difference"), !isMenuOpen;
            nav.classList.toggle("h-dvh"), !isMenuOpen;
          }
        }
        document.querySelectorAll(".navmenu-toggle").forEach((element) => {
          element.classList.toggle("hidden");
        });
      });
    }
  });
</script>

<nav
  id="mobile-navigation"
  class="fixed left-0 right-0 top-0 flex w-full flex-col space-y-6 px-4 py-6 mix-blend-difference invert sm:hidden"
>
  <div class="flex w-full justify-between">
    <a href="/" class="flex flex-none flex-row items-center">
      <img src="/assets/logo.svg" alt="Logo" class="pr-1.5" />
      <p class="text-sm font-medium">VAI.D</p>
    </a>
    <button id="menu" aria-label="Toggle Menu">
      <svg
        class="h-6 w-6 fill-current"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
      >
        <path
          class="navmenu-toggle"
          fill-rule="evenodd"
          d="M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"
        >
        </path>

        <path
          class="navmenu-toggle hidden"
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M18.278 16.864a1 1 0 0 1-1.414 1.414l-4.829-4.828-4.828 4.828a1 1 0 0 1-1.414-1.414l4.828-4.829-4.828-4.828a1 1 0 0 1 1.414-1.414l4.829 4.828 4.828-4.828a1 1 0 1 1 1.414 1.414l-4.828 4.829 4.828 4.828z"
        >
        </path>
      </svg>
    </button>
  </div>
  <div class="navmenu-toggle hidden h-full">
    <div class="flex h-full flex-col gap-6">
      <div
        class="flex w-full flex-col gap-4 border-t-2 border-dotted border-zinc-200 pt-6"
      >
        <Link href="/"> Home </Link>
        <Link href="/about"> About </Link>
        <Link href="/playground"> Playground </Link>
        <Link href="mailto:hello@vaimitidock.com">Contact</Link>
      </div>
      <div
        class="flex w-full flex-col gap-4 border-t-2 border-dotted border-zinc-200 pt-6"
      >
        <Link href="https://x.com/DockVaimiti" external> Twitter </Link>
        <Link href="https://www.behance.net/vaimitidock" external>Behance</Link>
        <Link href="hhttps://dribbble.com/Vai_d" external>Dribbble</Link>
        <Link href="https://github.com/kroostille" external>Github </Link>
        <Link href="https://www.linkedin.com/in/vaimiti-dock/" external>
          LinkedIn
        </Link>
        <Link
          href="https://drive.google.com/file/d/1wLqrG3zB2l-GjOBbVqheMxieMvl8_u6O/view?usp=sharing"
          external>Resume</Link
        >
      </div>
      <div class="flex w-full grow flex-col justify-end gap-4">
        <div class="flex flex-nowrap space-x-2 text-zinc-500">
          <p class="text-sm text-zinc-500">HCMC</p>
          <Clock />
        </div>
        <p
          class="flex w-full items-center whitespace-nowrap text-sm font-medium"
        >
          Made with
          <img
            src="/assets/logo.svg"
            alt="Logo"
            height="13"
            width="13"
            class="mx-2"
          />
          by kroostille
        </p>
      </div>
    </div>
  </div>
</nav>

<nav
  id="navigation"
  class="fixed left-0 right-0 top-0 z-20 hidden mix-blend-difference invert sm:flex sm:w-full sm:flex-row sm:space-x-6 sm:px-4 sm:py-6 md:px-8"
>
  <div class="flex lg:w-3/12 lg:flex-none 2xl:w-1/3">
    <a href="/" class="flex flex-none flex-row items-center">
      <img src="/assets/logo.svg" alt="Logo" class="pr-1.5" />
      <p class="text-sm font-medium">VAI.D</p>
    </a>
  </div>
  <div class="flex w-full justify-end lg:justify-start">
    <ul class="flex flex-row space-x-6 lg:space-x-10">
      <li class="flex flex-nowrap space-x-6 lg:space-x-10">
        <Link href="/"> Home </Link>
        <p class="flex text-sm">&middot</p>
      </li>
      <li class="flex flex-nowrap space-x-6 lg:space-x-10">
        <Link href="/about"> About </Link>
        <p class="flex text-sm">&middot</p>
      </li>
      <li class="flex flex-nowrap space-x-6 lg:space-x-10">
        <Link href="/playground"> Playground </Link>
        <p class="flex text-sm">&middot</p>
      </li>
      <li class="flex flex-nowrap space-x-6 lg:space-x-10">
        <Link href="mailto:vaimiti.dock@gmail.com">Contact</Link>
      </li>
    </ul>
  </div>
  <div
    class="hidden space-x-2 text-zinc-500 lg:flex lg:flex-nowrap lg:justify-end"
  >
    <p class="flex flex-none text-sm">HCMC</p>
    <Clock />
  </div>
</nav>
